{"componentChunkName":"component---src-templates-blog-post-js","path":"/metodos-opcionais-em-protocolos/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"a5612372-5749-59fb-9284-88c5bd477833","excerpt":"Você provavelmente já utilizou algum protocolo e após conformar sua classe percebeu que alguns métodos não foram obrigatórios mas mesmo assim não houve nenhum…","html":"<p>Você provavelmente já utilizou algum protocolo e após conformar sua classe percebeu que alguns métodos não foram obrigatórios mas mesmo assim não houve nenhum erro? Esse comportamento é comumente encontrado nos protocolos de <code class=\"language-text\">UITableView</code>. Por exemplo, o <code class=\"language-text\">UITableViewDataSource</code> exige apenas que dois métodos sejam implementados, que são:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UITableView</span><span class=\"token punctuation\">,</span> numberOfRowsInSection section<span class=\"token punctuation\">:</span> <span class=\"token builtin\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">Int</span>\n<span class=\"token keyword\">func</span> <span class=\"token function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token number\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token builtin\">UITableView</span><span class=\"token punctuation\">,</span> cellForRowAt indexPath<span class=\"token punctuation\">:</span> <span class=\"token builtin\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-</span><span class=\"token operator\">></span> <span class=\"token builtin\">UITableViewCell</span></code></pre></div>\n<p> Os demais métodos podem ser utilizados conforme necessidades da <code class=\"language-text\">table</code>.</p>\n<h2>Declarando métodos opcionais</h2>\n<p> Para criar esse comportamento é necessário informar, explicitamente, quais métodos podem ser omitidos. Há duas maneiras de reproduzir esse procedimento:</p>\n<ul>\n<li>Utilizar as palavras reservadas <code class=\"language-text\">@objc</code> e <code class=\"language-text\">optional</code></li>\n<li>Extender o protocolo e criar implementação vazia do método</li>\n</ul>\n<h3>Com <code class=\"language-text\">optional</code></h3>\n<p>O prefixo <code class=\"language-text\">@objc</code> informa que esse código está disponível também para Objective-C:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token atrule\">@objc</span> <span class=\"token keyword\">protocol</span> <span class=\"token builtin\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token atrule\">@objc</span> <span class=\"token keyword\">optional</span> <span class=\"token keyword\">func</span> <span class=\"token function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Com <code class=\"language-text\">extension</code></h3>\n<p>Alternativa totalmente em Swift:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token builtin\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token builtin\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">:</span> <span class=\"token builtin\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Métodos opcionais em Protocolos","date":"June 25, 2020","description":""}},"previous":{"fields":{"slug":"/json-serialization/"},"frontmatter":{"title":"JSON Serialization"}},"next":{"fields":{"slug":"/tdd-em-ios/"},"frontmatter":{"title":"TDD em iOS"}}},"pageContext":{"id":"a5612372-5749-59fb-9284-88c5bd477833","previousPostId":"ecfdf433-a8c6-51b8-a2a8-5bd15f0f3a35","nextPostId":"af77b8d7-3652-559e-b7f6-169c78c79180"}},"staticQueryHashes":["1344965497","2841359383"]}