{"componentChunkName":"component---src-templates-blog-post-js","path":"/metodos-opcionais-em-protocolos/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"5a71552c-9765-5eac-89ac-36fa6ab18ad6","excerpt":"Você provavelmente já utilizou algum protocolo e após conformar sua classe percebeu que alguns métodos não foram obrigatórios mas mesmo assim não houve nenhum…","html":"<p>Você provavelmente já utilizou algum protocolo e após conformar sua classe percebeu que alguns métodos não foram obrigatórios mas mesmo assim não houve nenhum erro? Esse comportamento é comumente encontrado nos protocolos de <code class=\"language-text\">UITableView</code>. Por exemplo, o <code class=\"language-text\">UITableViewDataSource</code> exige apenas que dois métodos sejam implementados, que são:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token punctuation\">,</span> numberOfRowsInSection section<span class=\"token punctuation\">:</span> <span class=\"token class-name\">Int</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">Int</span>\n<span class=\"token keyword\">func</span> <span class=\"token function-definition function\">tableView</span><span class=\"token punctuation\">(</span><span class=\"token omit keyword\">_</span> tableView<span class=\"token punctuation\">:</span> <span class=\"token class-name\">UITableView</span><span class=\"token punctuation\">,</span> cellForRowAt indexPath<span class=\"token punctuation\">:</span> <span class=\"token class-name\">IndexPath</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">-></span> <span class=\"token class-name\">UITableViewCell</span></code></pre></div>\n<p> Os demais métodos podem ser utilizados conforme necessidades da <code class=\"language-text\">table</code>.</p>\n<h2>Declarando métodos opcionais</h2>\n<p> Para criar esse comportamento é necessário informar, explicitamente, quais métodos podem ser omitidos. Há duas maneiras de reproduzir esse procedimento:</p>\n<ul>\n<li>Utilizar as palavras reservadas <code class=\"language-text\">@objc</code> e <code class=\"language-text\">optional</code></li>\n<li>Extender o protocolo e criar implementação vazia do método</li>\n</ul>\n<h3>Com <code class=\"language-text\">optional</code></h3>\n<p>O prefixo <code class=\"language-text\">@objc</code> informa que esse código está disponível também para Objective-C:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token attribute atrule\">@objc</span> <span class=\"token keyword\">protocol</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token attribute atrule\">@objc</span> <span class=\"token keyword\">optional</span> <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<h3>Com <code class=\"language-text\">extension</code></h3>\n<p>Alternativa totalmente em Swift:</p>\n<div class=\"gatsby-highlight\" data-language=\"swift\"><pre class=\"language-swift\"><code class=\"language-swift\"><span class=\"token keyword\">protocol</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">extension</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">optionalMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n        \n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span>\n\n<span class=\"token keyword\">class</span> <span class=\"token class-name\">SomeClass</span><span class=\"token punctuation\">:</span> <span class=\"token class-name\">SomeProtocol</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token keyword\">func</span> <span class=\"token function-definition function\">requiredMethod</span><span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token punctuation\">{</span>\n\n    <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>","frontmatter":{"title":"Métodos opcionais em Protocolos","date":"25 junho, 2020","description":""}},"previous":{"fields":{"slug":"/json-serialization/"},"frontmatter":{"title":"JSON Serialization"}},"next":{"fields":{"slug":"/tdd-em-ios/"},"frontmatter":{"title":"TDD em iOS"}}},"pageContext":{"id":"5a71552c-9765-5eac-89ac-36fa6ab18ad6","previousPostId":"6a3bc715-4e2e-5003-b0ab-018d3013b38b","nextPostId":"e3e60b6b-c138-5991-aad6-ae4ec682a4f6"}},"staticQueryHashes":["1344965497","2841359383"]}