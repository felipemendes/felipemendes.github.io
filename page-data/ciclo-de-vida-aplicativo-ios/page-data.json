{"componentChunkName":"component---src-templates-blog-post-js","path":"/ciclo-de-vida-aplicativo-ios/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"ed771673-6a64-5a62-bc10-69912a99c41c","excerpt":"O ciclo de vida da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O…","html":"<p>O <strong>ciclo de vida</strong> da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O gerenciamento desse ciclo de vida é responsável por lidar com ações do sistema quando o aplicativo estiver em primeiro ou em segundo plano e também eventos relacionados ao sistema.</p>\n<p>Há diversos estados que são executados com o uso da aplicação e à medida que o estado muda, deve-se ajustar seu comportamento. O aplicativo que estiver em primeiro plano tem a prioridade sobre os recursos do sistema. E os aplicativos que estão em segundo plano devem fazer o mínimo possível de execuções e, de preferência, nada, porque estão fora da tela.</p>\n<p>A cada alteração de estado, o <em>UIKit</em> é responsável por invocar o método apropriado. Até a versão 12 do iOS utilizamos eventos do ciclo de vida com base em aplicativos (<em>App-Based</em>) através do <strong>UIApplicationDelegate</strong>. No iOS 13 em diante foi introduzido eventos com base em cenas (<em>Scene-Based</em>) com <strong>UISceneDelegate</strong></p>\n<h2>Ciclo de vida com base em aplicativos</h2>\n<p>Esse ciclo é utilizado no iOS 12 e versões anteriores, e em aplicativos que não suportam cenas. Aqui o <em>AppDelegate</em> gerencia todas as telas do aplicativo.</p>\n<p>Ao iniciar um aplicativo, o sistema o coloca no estado <strong>inativo</strong> ou em <strong>segundo plano</strong>, dependendo se a interface está prestes a aparecer na tela. Ao iniciar em primeiro plano, o sistema faz a transição do aplicativo para o estado ativo automaticamente. Depois disso, o estado varia entre ativo e em segundo plano até o aplicativo ser fechado.</p>\n<p>A imagem abaixo representa as transições com <em>AppDelegate</em>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.18987341772151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAETElEQVQ4y21VW28bRRj130MISKFJQDwAUiuqkoYWGoHgvUKqQCDxAA2ifeglqvpSUIHQJjhWGrtxXMfe9X19v8dee9d79a7Xh/nG8cYVjHQ0Hu/Ome/7zndmA/ifMZ1O+azrOtqdPjrdHhrNNptlWJZ1+o7HZ9t2Ua83YOg2XwcURUG328VgMEC73cZoNPKJx+Mx5EYcg5MaTlpFyM0EXHdCdPz5SJfR7GbZ/jaanSwGSguBQqEAURSRzWaRTCZRq9V8QlMfQU9cgZf+GF7qAvTkBsb22CcsNffxPHsNL8s3cJBfR7r0+4wwl8tx0kwmg0ql4m/QRwojXAOyK0BmGaPE57BMyz+w2NhHRFpHrHIdL0qXIUiPEZAkiUcXDoeRTqdPCWfD0FRYwhXoR6swYiswhOuvEJabBwjnP8Xuy88Y8ScQpd8QqFariMfj2N7eRiKR4Cm7rsNrNeh3YSTX0fhnCbWdN6CxlKnGtm0xYhdSLYRQag2Pnl7ETuIi8vU/EaCIotEogsEgIpEIGo3GKzUkQvt4GXb8PHRhA7Zl+yWptMO8dofSBg4Kl5GtPEGgXC7zGlLqVMN6ve4TWoYGU7zK6vc+w3swxC9ORZmNWucFwoWriJW/RKS4xgj/QKBUKvEaEinVcFFli0VoC5eA1DmGJZjCVZbuYoQHLLJLiJauISxdQLrMakgRpVIprjKBenE+bNbEavo7aOLXDF9ByfzIetP1CVsnKRzmbuIo9wOi+W9QrB8gMJlM+Km9Xo/D8zzulDmsMYM9g+3Qf2dO8iZTdsAUsqzCNBy2Zk6ZR0NEBNd14TiOD2/iYjJx/2PL+UzDcSw/6gBtMk2TnSJD0zRQxIubnbENTRlAV4b89zxyGtRaBmufE9nASLP5mvchuYVmEqfZbJ41NmviJ9k+QtURdssq/sr1uL99L7ejsHI3YFQfwmbzoPL3zHpElM/nucpEPB/qSMedRA8/ZWyOe0Kf3TYzlemuUapPMU2+xW0J4TXI+a0ZIZEJgsCJqS99Qk3HXVHGpqDiFsMDoedbj2IcVncwFd+Fefwha6vz6Gbuz/owFothd3eXzxQhiUNDGWm4E2vh270ivn9ew/1Eh92RBqZMToe9otZ3MY4vo/RsFdbRm1CKj2aEoVCIY29vD7SmNvKYOH15iJ/3C7gZlDhuR8oYDGfi6JbHUn4G7fAdNILLUMOvzwgpRUq7WCxytyx6mUR5kFFxu+Dg17yDhxkic/znWivEUl4F8h8B6bcxkE4JF6236GXNMHGP1fCXjIFNhq2U7FuPiqI1g/CEFUzTHwDiEobzlMl6REbCLHqZ6nU32cemqOEWwxYTZX7bkChqYw8uu4kmIosweQ5ygRFSM7daLU5EPqYPk+8eVsdaT4XUGTIM0OirTBDvzOuGAq17jE7lEErrCMbo5Mx6lAqBGpe+bHO4TAB3bJ3CXnhmsvfH3Ou66WBuxH8B2oKLhwjydf0AAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"App-Based\"\n        title=\"App-Based\"\n        src=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png\"\n        srcset=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/c26ae/app-based.png 158w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/6bdcf/app-based.png 315w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png 630w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png 784w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em aplicativos</h3>\n<p>Essas são os métodos executados em cada transição com base em aplicativos:</p>\n<ul>\n<li>\n<p>Os métodos responsáveis para o início do aplicativo são:</p>\n<ul>\n<li>application(_:willFinishLaunchingWithOptions:)</li>\n<li>application(_:didFinishLaunchingWithOptions:)</li>\n</ul>\n</li>\n<li>\n<p>Ao entrar em primeiro plano esses métodos são executados:</p>\n<ul>\n<li>applicationWillEnterForeground(_:)</li>\n<li>applicationDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>applicationWillResignActive(_:)</li>\n<li>applicationDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Método de finalização:</p>\n<ul>\n<li>applicationWillTerminate(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Ciclo de vida com base em cenas</h2>\n<p>Para os aplicativos que suportam cenas há um novo ciclo de vida. Isso é resultado do novo suporte de <em>multi-window</em> que chegou com o iPadOS. Uma cena no iOS representa uma instância da interface do usuário do aplicativo em execução.</p>\n<p>Enquanto o <strong>AppDelegate</strong> é responsável pelo ciclo de vida do aplicativo, o <strong>SceneDelegate</strong> é responsável pelo que é mostrado na tela; as cenas ou janelas. Dessa forma, cada cena tem seu próprio ciclo de vida, cada uma pode estar em um estado de execução diferente.</p>\n<p>A imagem a seguir mostra as transições de estado para cenas:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.32911392405065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAEEElEQVQ4y21VaW8bVRTNv0NEoAIFKiqRDyC1JLQC8QFVUYXgI1ABEksiEE2ilrSlbURQlKpbTMGhCVm9jMezxI7jJI6X2ffxcnh3xh4HiSddj+3rd96559z7PNLr9RAv9ux22KMTvR987bouDo9bODpu4OCwjqaio9vtYrCv0waqB8fQNTv6PEIv9AP+WEO5rkGsqZDrenwAW2HgQaukoJ/wUA9WYdZzGKwg8FGprePoRMD+8SbqihQDhkGA+WwD1wUfP/IulorNPlPAs3W4uxeB4hiQPwtTnkG3D2iYCp4XJ7Fd+RjPpUvgKwsxYOD7+JVTML2rYiqjY1loxuVTybYGN3sJ4N6KAHVxFr0EUMW68Ak2Sh9hXb6MYmURI6SF53m4tVvDN6sVfMViqXCCXjtEl+20GQtjewK1P1+HsnoGujSHTi/WXDNaWOWu4sHaOJ7sXIwBwzCIhL+xUcHXDOzaX/v4PVtFh+kThB1YegNH6QvILY5CXn4BSnEW7S4V0IGiNfB06wruPBzDwh9j4PcZYIclKHmPVzEjBviZ6fhQUsmq2BTfgpu7DHvrHPzt12CXbyYl266BDflTpPkPkC6+D+lwCSPtdhsUd7hWZMg05zANlcQUn23ysuOAcI7p+AqsvbnEFIvpuy5exVblQ6zJExCqv8WAxHCRa2Aux1hmFTyVhi4Hng0zO8mMGWduvwOjdH/I0DHxj/BFZMzf/BVI1UekYdhPujAsB42WCodpOlhkmmubcC0NDnPV970kR/3rOBaarToUtcn6MhgCnkIAGUXOU/ispagKMuj0IcMJI4PaGIxWAujSZnYCARDQYBOx8DwflqbAc2zGIvwPw4Ax1swQpumiHfpDU/L5PARBQKFQgCiKCQOHgd3P17EsabhbULBWbiVjSVNk5D6DK16DnZ+EUe63DdWezWYjIALleT46PZoGputMhnWAEOD7vIsUGdb32WaN7WbeZWN5Fsi9DHPvRgxIZXIch0wmEwWBdvsMTWbWTU7D1GYdP+yoeLY3ZBiZlJuAtXUewc4bsErzcckEurm5iVQqhZWVlYgtsSahNdPCdFrG5485fPmshCeFI3SZVmGnC0M9QWv9AkqPzuDg8Sh0eX6o4YAdBekYRGb1oFs2ZrZrmNpV8N22gpRYZ3MeoM0G2jaa0Lfeg7j8EgN8EVb51hCQQGRZjnSUJCm5YB0vwC+s5Fk2lj+xSUqX1cRl39ERcOwmEt8GCm+ysbwda0itQ2WSjuT2aVMs18P13Sam8ja+zZhIyUMNXUuNpqeXexWdndHYFGJHLVKtVlEqlaKo1WoJC8rvHLCLtNTE6l4D+00jydHFbFQeQC8tQN+7C6tZwAiJTyxPdz69H0hBuahN+v81/zcpp9e/wUoBGXV8uUoAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Scene-Based\"\n        title=\"Scene-Based\"\n        src=\"/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png\"\n        srcset=\"/static/40f81c46b609cfed8847b1c40929cc8c/c26ae/scene-based.png 158w,\n/static/40f81c46b609cfed8847b1c40929cc8c/6bdcf/scene-based.png 315w,\n/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png 630w,\n/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png 855w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em cenas</h3>\n<p>Essas são os métodos executados em cada transição com base em cenas:</p>\n<ul>\n<li>\n<p>Ao entrar em primeiro plano é executado:</p>\n<ul>\n<li>sceneWillEnterForeground(_:)</li>\n<li>sceneDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>sceneWillResignActive(_:)</li>\n<li>sceneDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Ao adicionar uma nova cena:</p>\n<ul>\n<li>scene(_:willConnectTo:options:)</li>\n</ul>\n</li>\n<li>\n<p>Remove a cena do aplicativo:</p>\n<ul>\n<li>sceneDidDisconnect(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Responder a outros eventos significativos</h2>\n<p>Além dos eventos de ciclo de vida, os aplicativos também devem estar preparados para lidar com outras situações. </p>\n<ul>\n<li>\n<p>Avisos de memória:</p>\n<ul>\n<li>applicationDidReceiveMemoryWarning(_:)</li>\n<li>didReceiveMemoryWarning()</li>\n<li>didReceiveMemoryWarningNotification</li>\n</ul>\n</li>\n<li>\n<p>Dados protegidos ficam disponíveis / indisponíveis:</p>\n<ul>\n<li>applicationProtectedDataDidBecomeAvailable(_:)</li>\n<li>applicationProtectedDataWillBecomeUnavailable(_:)</li>\n</ul>\n</li>\n<li>\n<p>Tarefas do Handoff:</p>\n<ul>\n<li>application(_:didUpdate:)</li>\n</ul>\n</li>\n<li>\n<p>Mudanças de horários:</p>\n<ul>\n<li>applicationSignificantTimeChange(_:)</li>\n</ul>\n</li>\n<li>\n<p>Abrir algum um recurso:</p>\n<ul>\n<li>application(_:open:options:)</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"O ciclo de vida do aplicativo iOS","date":"May 07, 2020","description":""}},"previous":{"fields":{"slug":"/usernotifications-framework/"},"frontmatter":{"title":"UserNotifications Framework"}},"next":{"fields":{"slug":"/addTeardownBlock-do-xctest/"},"frontmatter":{"title":"addTeardownBlock do XCTest"}}},"pageContext":{"id":"ed771673-6a64-5a62-bc10-69912a99c41c","previousPostId":"3d97bfac-1122-5254-a720-457d335b1e08","nextPostId":"a60e8b6a-2d16-5e3e-b6e9-3b538f9760ec"}},"staticQueryHashes":["1344965497","2841359383"]}