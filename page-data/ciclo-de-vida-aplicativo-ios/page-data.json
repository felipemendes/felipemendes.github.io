{"componentChunkName":"component---src-templates-blog-post-js","path":"/ciclo-de-vida-aplicativo-ios/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"dd727d11-5815-57ce-87f4-96d0886d5283","excerpt":"O ciclo de vida da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O…","html":"<p>O <strong>ciclo de vida</strong> da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O gerenciamento desse ciclo de vida é responsável por lidar com ações do sistema quando o aplicativo estiver em primeiro ou em segundo plano e também eventos relacionados ao sistema.</p>\n<p>Há diversos estados que são executados com o uso da aplicação e à medida que o estado muda, deve-se ajustar seu comportamento. O aplicativo que estiver em primeiro plano tem a prioridade sobre os recursos do sistema. E os aplicativos que estão em segundo plano devem fazer o mínimo possível de execuções e, de preferência, nada, porque estão fora da tela.</p>\n<p>A cada alteração de estado, o <em>UIKit</em> é responsável por invocar o método apropriado. Até a versão 12 do iOS utilizamos eventos do ciclo de vida com base em aplicativos (<em>App-Based</em>) através do <strong>UIApplicationDelegate</strong>. No iOS 13 em diante foi introduzido eventos com base em cenas (<em>Scene-Based</em>) com <strong>UISceneDelegate</strong></p>\n<h2>Ciclo de vida com base em aplicativos</h2>\n<p>Esse ciclo é utilizado no iOS 12 e versões anteriores, e em aplicativos que não suportam cenas. Aqui o <em>AppDelegate</em> gerencia todas as telas do aplicativo.</p>\n<p>Ao iniciar um aplicativo, o sistema o coloca no estado <strong>inativo</strong> ou em <strong>segundo plano</strong>, dependendo se a interface está prestes a aparecer na tela. Ao iniciar em primeiro plano, o sistema faz a transição do aplicativo para o estado ativo automaticamente. Depois disso, o estado varia entre ativo e em segundo plano até o aplicativo ser fechado.</p>\n<p>A imagem abaixo representa as transições com <em>AppDelegate</em>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.18987341772151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsTAAALEwEAmpwYAAAENklEQVQ4y21VaW8bVRT170OlSEUJ0CKxCEFpI5KmpSDxExDbF4SIlDQKUaEFBT4ECVKp0NZN7NiJl7En3rd4i53x7Iu3w71v4iUST7ozb5l33n33nHsngP9p4/FYvC3LQr3ZRetMQa3eRrOtwHGci29G4t33xqjVGjANV4wD3W4X1WoVrVYLlUoFPJ60/mCAXvUZ1GYC5/UY9f9Fv9+frvf0FoqnL+mgIkr1EJqdDAK5XA6pVAqZTAbJZBLlcnm6wSYPjdgSkLouzIrfhmOb0/VyI4wXJ0uIFL9AMHcTUvGxD8hg8Xgc6XQaxWJxdmXThB5fBeQ3hRnxZZrTZ4D1Qxzk7iBavo9QcQmJHAEWCgUBuL+/LwCFh3OAtrQK/XABamgRjrQC2zSmgJVmBPvZFfwVWkYwe4s8/A0BjtvR0RF2d3cRjUZFHDlOA4qfcn4OM3EXjX9eQ+XJVeixFeiqAtd16eoDFGoHeJ7+BDtPP8ST2AfIVP+YAbKH4XBYEDRpLjFqJe9hmFzEMLFI/TtwbWu6fto+Fh5GS5/hoHAL6dIOAnxFvnI+n8fJycllQNuGJd2n+BEp8g3q36W5GSmnZwSYW0Wk9DkBLiFd/h0BJkGWZQE2jeFFcwjQSdwGpFfJrlL/5iWWa+0Ixe4jhIvLeJl/32e52WwKMJYOA7bb7ZkO+wOo+W1oJ99Ck7+DmtuC53nT9Y5SQSy/juPsJo7zaySjCAIskdFoBE3T0Ov1MBlPzBsA3hAYUGL0R/OZNBZi4ITRNRd9V0whMDltOBwKAGaXWZ7YeMRjjzYPZ6k5l57cPM+mOf+0AEtA13WRcuzh/JV4k2HZ0BQFKklINy1xqA/JIXFh6hraHUPsdR1rxnKpVBLkzLPMhWAn3cGfRRO7BV307YviwE0nYXupe/BK32Mgf4pe/lc/9ZgUBp2wPLmNSR5txc/wg+wK20p0YZLH3NjPXu05RolrJKkFUsErUDKbPiBbLBYToCyjSbNo88OUgh8TKlkP29L5FFBUm1oQY+k6jKN3CPB1dOQHCPBVQ6EQ9vb2RLbwmInh+Gm6gQeHVXz5NIuvnhWwGa1D1XSMhn24xL56GoRztIj83wvQD65AL2z7gAzEFgwGwcWCieHgq6qG9YMSvg5W8A3ZeriC855KB3qwiTu19gJWZAFnwTdghK6QZn/ySeErM1A2m72ceqSAR7KKjVxf2M/pHhx3pgKzFcY4+RaQfQ9IXyPhb/uA86RwsZgWWNvBQ4rbWtrGmmyLGFq244uankZzn0ghQtJvi9RU81s+oCRJIvW4Ys8DsmweSx1spDRsSBp+ob5tz8smCi/+LjzpY6pGN6DkHiHAm1jUjUZDvG3bnoqa49hVDTS7qrAO9XlukiWea8NQ6H90moHaKVIl0mapx2nGMRPFkw6ZWN9zL9n8mvieEt12Zj+u/wC5a4uxIcNmWQAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"App-Based\"\n        title=\"App-Based\"\n        src=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png\"\n        srcset=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/c26ae/app-based.png 158w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/6bdcf/app-based.png 315w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png 630w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png 784w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em aplicativos</h3>\n<p>Essas são os métodos executados em cada transição com base em aplicativos:</p>\n<ul>\n<li>\n<p>Os métodos responsáveis para o início do aplicativo são:</p>\n<ul>\n<li>application(_:willFinishLaunchingWithOptions:)</li>\n<li>application(_:didFinishLaunchingWithOptions:)</li>\n</ul>\n</li>\n<li>\n<p>Ao entrar em primeiro plano esses métodos são executados:</p>\n<ul>\n<li>applicationWillEnterForeground(_:)</li>\n<li>applicationDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>applicationWillResignActive(_:)</li>\n<li>applicationDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Método de finalização:</p>\n<ul>\n<li>applicationWillTerminate(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Ciclo de vida com base em cenas</h2>\n<p>Para os aplicativos que suportam cenas há um novo ciclo de vida. Isso é resultado do novo suporte de <em>multi-window</em> que chegou com o iPadOS. Uma cena no iOS representa uma instância da interface do usuário do aplicativo em execução.</p>\n<p>Enquanto o <strong>AppDelegate</strong> é responsável pelo ciclo de vida do aplicativo, o <strong>SceneDelegate</strong> é responsável pelo que é mostrado na tela; as cenas ou janelas. Dessa forma, cada cena tem seu próprio ciclo de vida, cada uma pode estar em um estado de execução diferente.</p>\n<p>A imagem a seguir mostra as transições de estado para cenas:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.32911392405065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsTAAALEwEAmpwYAAAEHUlEQVQ4y3WU228bRRTG8+chIjUPbUFQRFqQgoKEStVSCXjgBR5QhRAg0ipKRVvETVVRUkAlOIlJ0tRN0vjuYHttJ2t7Hcfeu/e+Xn+cWcde88BI69X6zPzmm++cM1ODwQDDEQB9n170YIDR34ZpotESIbS64BsdSIpOsQCjda4zQJ0XoGt2+D3FfjzfR7ohodJWkGvK4NpqCA0X2DrU4yfQ2hmofAy9TgGjYdk91IRNNE8L9N5GR+aGQMOycT/Txd2Sg9sFC7Fyd6iYhqm2YKdmgeIlIDcDvfYQozOJioCd4g0c8DfwrDwPrrl6BjQt/FiQcScl4nZGxTonTgBP4GTnMChcwiB3AWrt0VihpLTwvPwh9qvXsVu5Cq4RIyB5oRsm7h8I+HL7CF885RErtslPD31i6nIT6v5baMQvQHx6joC/oo+hI12pia3cTfyxM4/YwRwqzTVM+Z4XAr/b4/FVoknAOv46bGHgu3D9AXpyA8LWLHIr06itvgSlSkCCDYIAHamBtRfX8cvqZSxvXUZVWMdUQAHH8/HzoYJ7nIulooO/a3KUFLMLO/sOrNRrcNPnYdRXxkfWeh3scR/jWfEadkrv4ehkgwH7sB0X3+ckLP5jYyFvYr0ijT209TaczBWg9CqQn0Hv+NE4KYp2Qh7epKS8jwQ3TwrJw36/D9f1sFzo4Ie8hAdZEYlalBTbkKFnP4KRuwYz8y60xtqEQhH7pVvYK3+GRPETHJ8kyEPfHy6k0jEtC7Ks0AbOeFEQDGBRzLZMWFTknudPxALYtg1RkqBpGny/HwFHg3WA67rhRPY4jkMTPbiUvMk5UYdRQfSjWAhkQcMwQoBJKixSGk0O0KM61WRxOIf8jmI+HEuHpNrUeho81xp6yFRks1mUSiUUCgVwHDdeJPdM/JQ9xeOyGnp8wEvjGCv6XvYDOKVPYWavQq+vDsuGqWJABioWiyF4dKKu2sPdjISlkksVYJwlbBjUpTpVwJvUlheHbXm8HAGZsmQyiXQ6/R+FkmbgXk7Bwl4LCykZz48jhYbShJt7mzrpdbipi9D5x6OycbG7u4t4PI6NjY0QHiaBrqlTWcM3m2V8HjvErc0atksCAs8Ju0jpHKGTmAX35wz42MsE/O2sU8jDTCaDfD4/9pJtxI7GjryUPMViVsG3pDBRo5so8OAHTGGD1F0h4Dm04tMwGr9HQKaqUqmEsGq1Oj6WYth4kKe2LLtYPDSxX1ei+5A6xc/PARz5WHiF2vIMyMqFecegI4WjKpN1E4upLu7ke/g6rSFxFCXFVAW6K99AkD0PLzlNSVkZesiggiCgXq+D53mIojhWwbzMCwqSvIgXxyLaSi+KORb0ZhxqPQaNfwJTqWOKJYRBJ6ufbcAKnrVZP+wkMmzQ/99OmRz/Au9pAQmoGnjVAAAAAElFTkSuQmCC'); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Scene-Based\"\n        title=\"Scene-Based\"\n        src=\"/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png\"\n        srcset=\"/static/40f81c46b609cfed8847b1c40929cc8c/c26ae/scene-based.png 158w,\n/static/40f81c46b609cfed8847b1c40929cc8c/6bdcf/scene-based.png 315w,\n/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png 630w,\n/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png 855w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em cenas</h3>\n<p>Essas são os métodos executados em cada transição com base em cenas:</p>\n<ul>\n<li>\n<p>Ao entrar em primeiro plano é executado:</p>\n<ul>\n<li>sceneWillEnterForeground(_:)</li>\n<li>sceneDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>sceneWillResignActive(_:)</li>\n<li>sceneDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Ao adicionar uma nova cena:</p>\n<ul>\n<li>scene(_:willConnectTo:options:)</li>\n</ul>\n</li>\n<li>\n<p>Remove a cena do aplicativo:</p>\n<ul>\n<li>sceneDidDisconnect(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Responder a outros eventos significativos</h2>\n<p>Além dos eventos de ciclo de vida, os aplicativos também devem estar preparados para lidar com outras situações. </p>\n<ul>\n<li>\n<p>Avisos de memória:</p>\n<ul>\n<li>applicationDidReceiveMemoryWarning(_:)</li>\n<li>didReceiveMemoryWarning()</li>\n<li>didReceiveMemoryWarningNotification</li>\n</ul>\n</li>\n<li>\n<p>Dados protegidos ficam disponíveis / indisponíveis:</p>\n<ul>\n<li>applicationProtectedDataDidBecomeAvailable(_:)</li>\n<li>applicationProtectedDataWillBecomeUnavailable(_:)</li>\n</ul>\n</li>\n<li>\n<p>Tarefas do Handoff:</p>\n<ul>\n<li>application(_:didUpdate:)</li>\n</ul>\n</li>\n<li>\n<p>Mudanças de horários:</p>\n<ul>\n<li>applicationSignificantTimeChange(_:)</li>\n</ul>\n</li>\n<li>\n<p>Abrir algum um recurso:</p>\n<ul>\n<li>application(_:open:options:)</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"O ciclo de vida do aplicativo iOS","date":"07 maio, 2020","description":""}},"previous":{"fields":{"slug":"/usernotifications-framework/"},"frontmatter":{"title":"UserNotifications Framework"}},"next":{"fields":{"slug":"/addTeardownBlock-do-xctest/"},"frontmatter":{"title":"addTeardownBlock do XCTest"}}},"pageContext":{"id":"dd727d11-5815-57ce-87f4-96d0886d5283","previousPostId":"35ebcdaa-03fe-510a-a4f3-24f890847586","nextPostId":"ac2598b8-2ed3-5f4e-b3a7-6503521fd4d8"}},"staticQueryHashes":["1344965497","2841359383"]}