{"componentChunkName":"component---src-templates-blog-post-js","path":"/ciclo-de-vida-aplicativo-ios/","result":{"data":{"site":{"siteMetadata":{"title":"Felipe Mendes"}},"markdownRemark":{"id":"132aa054-b180-5213-94f3-b51c346ddc1c","excerpt":"O ciclo de vida da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O…","html":"<p>O <strong>ciclo de vida</strong> da aplicação é muito importante para todos os desenvolvedores iOS que desejam tornar a experiência do usuário enriquecida, imersiva e suave. O gerenciamento desse ciclo de vida é responsável por lidar com ações do sistema quando o aplicativo estiver em primeiro ou em segundo plano e também eventos relacionados ao sistema.</p>\n<p>Há diversos estados que são executados com o uso da aplicação e à medida que o estado muda, deve-se ajustar seu comportamento. O aplicativo que estiver em primeiro plano tem a prioridade sobre os recursos do sistema. E os aplicativos que estão em segundo plano devem fazer o mínimo possível de execuções e, de preferência, nada, porque estão fora da tela.</p>\n<p>A cada alteração de estado, o <em>UIKit</em> é responsável por invocar o método apropriado. Até a versão 12 do iOS utilizamos eventos do ciclo de vida com base em aplicativos (<em>App-Based</em>) através do <strong>UIApplicationDelegate</strong>. No iOS 13 em diante foi introduzido eventos com base em cenas (<em>Scene-Based</em>) com <strong>UISceneDelegate</strong></p>\n<h2>Ciclo de vida com base em aplicativos</h2>\n<p>Esse ciclo é utilizado no iOS 12 e versões anteriores, e em aplicativos que não suportam cenas. Aqui o <em>AppDelegate</em> gerencia todas as telas do aplicativo.</p>\n<p>Ao iniciar um aplicativo, o sistema o coloca no estado <strong>inativo</strong> ou em <strong>segundo plano</strong>, dependendo se a interface está prestes a aparecer na tela. Ao iniciar em primeiro plano, o sistema faz a transição do aplicativo para o estado ativo automaticamente. Depois disso, o estado varia entre ativo e em segundo plano até o aplicativo ser fechado.</p>\n<p>A imagem abaixo representa as transições com <em>AppDelegate</em>:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 115.18987341772151%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAXCAYAAAALHW+jAAAACXBIWXMAAAsSAAALEgHS3X78AAAESUlEQVQ4y22U+4sbVRTH8+cJ0lrLul0RipRS6fZlwbb0B0GKP1oKgpTah4paH8WCi7i23dh1N7txn+S5k/dz8mpeM5PJzGSSyddzbjKTLHjhcHd2Jp97zvec7/Xhf9Z4PBa7ruuo1luoN1qQK3Xa2zBNc/qNI3bLHKJclmH0B+LZ1263Ua1W0Ww2UalUoCiKBx4MBmiXd9BpZNGqSOjI+xiOGDQ5UNEaKNXCdJCMUjWMtiLDl06nEY/HkUgkEIlEUCqVPGC/p0APXcT46BzG8bPQI59gYNkeMCtvYCt5FQe5Owgkl5Eq/zUBMiwajUKSJBQKBQ+oqx3o4UtAYgmQFqGFb1DJ1lQXIFPewL+Zazgo3KB9GYkiATOZjAAFg0GxF4vFGVBTYEYvQ9s7A33/PfRjN2dAWrlKANupq1jbv47t9DKSpRfwMeDw8BCrq6sIhUIkcBnD4ZBihHazThlegfz6FEr+E9Ait9DTejAtA6YxRLq0jo34Zfy2dgH+8Hnkan74uMS9vT1sbm5iZ2dHNMZdpq7CiFyBHV6EHVqAHr1FGg48DQu1bQQpw73cTcrwIjLyK/jy+TySySTc0mVZPgY0Y9dIvw8o3qeSbx9rSrEWRDD9MQ7ytxHMXCLgGny5XE6AuDFHR0eiZHcZBLQiF4D4KYqTMKLXj2WYr22Shh9RhtexlT6HNHeZM2JQLBYT41Ov1z2gRUOsJr6CFv+c4g6U5GPY9sgDVpsS9lNf4iB1n/Z7KNUP4XMchz6ywQPOwS6ZD67QjcHwuJPopxjS/7sdnQ6n7+nZ52YzGo3AcO4wH+CG43DHZ7q5MHfnZQ8M772P7cWe5ew0TRPAeU9z2Vq3A03pCB+7mQsQHaj3LTRaOlStL57F2KRSKeEQbsz82Oh9AytSC68LPbzMqfgz0aRsZk3RKkFYic9gFL6HJX0KtbQ2sx5DuTnzXlZoiL8JN/FAsnCf4mm0CcuyBJBb0y28ACLvCFsi8hbU/PMJkGF8MTB43suqpuOHWAcPowq+jqr4OdYUEkytTMBXGMeW0A99CMROo515PplDdorf7xc7W3E0vaK6qoYn+zLurqdxL1DE01BN6M2NGlCKXKJ1uIDs2hn0d0+gV1qBL5vNIhAIiGD7sXO4UY4zQrPdxYOtLO5u5PAFxXe7BXFf2rYFncZEKb5Eb/c0qhuLUINvo1dcmViPy2YwW3Deerph4idJxbdpG09SNp5JXZo723vfq6xTqaQfuQTxd6EVpkDWjmHclHmgphtCw0eSgYdHBn6Jt7ymsCg9+W840QWMpbNA9CS04u8TDV3b8SU77+We3seP0RYexzQ8ovg19oa8PAFyU9TyP3QLLWEYPw8nvAAl/wd8LHKj0RCZ8W4Yhgd0yD3Vtobim66IekcjezneYFuGhh75uV4MQ6nHYfW7M+txKW6wI9ywBxaG0+C/vXd0sEU3jzlw0Ddnuv4H7hyMQFrY9CUAAAAASUVORK5CYII='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"App-Based\"\n        title=\"App-Based\"\n        src=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png\"\n        srcset=\"/static/2ef48521f6e1a5c8aa928ccbe6e6477e/c26ae/app-based.png 158w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/6bdcf/app-based.png 315w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/f058b/app-based.png 630w,\n/static/2ef48521f6e1a5c8aa928ccbe6e6477e/4971b/app-based.png 784w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em aplicativos</h3>\n<p>Essas são os métodos executados em cada transição com base em aplicativos:</p>\n<ul>\n<li>\n<p>Os métodos responsáveis para o início do aplicativo são:</p>\n<ul>\n<li>application(_:willFinishLaunchingWithOptions:)</li>\n<li>application(_:didFinishLaunchingWithOptions:)</li>\n</ul>\n</li>\n<li>\n<p>Ao entrar em primeiro plano esses métodos são executados:</p>\n<ul>\n<li>applicationWillEnterForeground(_:)</li>\n<li>applicationDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>applicationWillResignActive(_:)</li>\n<li>applicationDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Método de finalização:</p>\n<ul>\n<li>applicationWillTerminate(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Ciclo de vida com base em cenas</h2>\n<p>Para os aplicativos que suportam cenas há um novo ciclo de vida. Isso é resultado do novo suporte de <em>multi-window</em> que chegou com o iPadOS. Uma cena no iOS representa uma instância da interface do usuário do aplicativo em execução.</p>\n<p>Enquanto o <strong>AppDelegate</strong> é responsável pelo ciclo de vida do aplicativo, o <strong>SceneDelegate</strong> é responsável pelo que é mostrado na tela; as cenas ou janelas. Dessa forma, cada cena tem seu próprio ciclo de vida, cada uma pode estar em um estado de execução diferente.</p>\n<p>A imagem a seguir mostra as transições de estado para cenas:</p>\n<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto; max-width: 630px; \"\n    >\n      <a\n    class=\"gatsby-resp-image-link\"\n    href=\"/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png\"\n    style=\"display: block\"\n    target=\"_blank\"\n    rel=\"noopener\"\n  >\n    <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 106.32911392405065%; position: relative; bottom: 0; left: 0; background-image: url('data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABQAAAAVCAYAAABG1c6oAAAACXBIWXMAAAsSAAALEgHS3X78AAAEGElEQVQ4y3VV+2scVRjdP69IgiKpUEQoaJqK1qKCUhHx11qKoKUNLVJDIgmmgrFt+opJkzYxyXaT7M7sa3Y3j30lmd2Znfd75njvncwk/uCFby9zZ+655/vOd+5moigCG1GAyHdZIApxsgrLstHu9tE5lLDfEtGXVUT0/ck+z43Qah5CkQ32nKE/QRBgc18C31WQa8rg2jIDjTdY0Hb/gHH4GvrBHPTDjfQw2zYhtJ6gdZxFrf0cbXEnBnQdB1N5EXfLDm4XLTyu9BhjxlCXYW5/CJTPA9wQ1NqvCE8AFa2PtcrXeLN/FWu1MVQO/jwFnC3JGN/u486OjKdC/xTQGMDmPkXIv4+IPw+lNpkyVDUJG8J32Gx8iY3GVVSaD5EJw5DUycJUro2bK7u4sbyLR3wXoefCDyLoSg9S9jIO/n4XR8vDGAiTIMusjvJAxErhG/z16hKebH5EGBJAz/NILWwG+NPGIX5c7+AxBSTieEEIg6R1tHYJpYdvYe/ZuVNAQmRADnu5cw2zCxcx9+oiqs1HyFBBaDwoy7gvuPil6uBFnYhyUinP0UnKV+DlL8DPj8DYm05TNiwV2fr3WK99gTXhCmqdeQLo+/BJTPN9jJcsJsp8VUpr6JgK7PwoUBkB+CHojYlUFM2QsS5cI6J8hn/qY6i25pChYCFh+KwiYrbYxwzfw9puP2XoOibU0g3o/LfQua+gNp+nDE3LwHZ9HG+Em9isXsdedzWuIR2+S2pGQldVMjuscWmEJGwngEOCzr4fw0WI3/teCEXRoesWIRadAp4diVA0HNJSge+xORnJYckIAh/JYwqoEmaGYUDTNHKann5M20rWTMj9HmRFhWba/wGytWNIxI4DSYRrDeIaUtBCoYByuQye51GpVFIGOgH4LX+MB1UNE9wArxt9lnDiIj3/OTziFrswBnV3Nm4bmg7HcRAEAdVqlQFTZsxeuomJQh/3Kg7u8CaW671UMEPtxR3AbPkO8fx0DOgSMYrFInK5HLa2thhowlAzLUxyEm5ttHEr18NKQ0pTNon1bO5jKJsXYOdGoO/NxClT0Gw2i6WlJSwuLiKfzxNFHWYvSdFwe0XA9Rcl/LDcwEKxBd+x4HoBFKkLcX0U1flhNJ6eg9KYiRlSUJoyZUmD1pCuMbEMCxPkJrrHE+C8ghWacugz+5nEltr2ZewvvI2jl0Mw9n+PGdIolUqo1WqsjnROUjZsF1PFAbGlg7vESat7ciqKTW4it/gJUP+A1PG9GJAypCrTNKnCidphojK5se9vixjnNPy8o5yIEp25K0eZx93cMNTGdMyQshFFEd1uF51OB5Iknem1AA1RRbkjodiWICpG+o7u1Y+3oHbXoXVWYSptZKjCCejZZqasabBa0r+DKPxfp5wd/wJ5pgF+W5qG6wAAAABJRU5ErkJggg=='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"Scene-Based\"\n        title=\"Scene-Based\"\n        src=\"/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png\"\n        srcset=\"/static/40f81c46b609cfed8847b1c40929cc8c/c26ae/scene-based.png 158w,\n/static/40f81c46b609cfed8847b1c40929cc8c/6bdcf/scene-based.png 315w,\n/static/40f81c46b609cfed8847b1c40929cc8c/f058b/scene-based.png 630w,\n/static/40f81c46b609cfed8847b1c40929cc8c/77800/scene-based.png 855w\"\n        sizes=\"(max-width: 630px) 100vw, 630px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n  </a>\n    </span></p>\n<h3>Métodos com base em cenas</h3>\n<p>Essas são os métodos executados em cada transição com base em cenas:</p>\n<ul>\n<li>\n<p>Ao entrar em primeiro plano é executado:</p>\n<ul>\n<li>sceneWillEnterForeground(_:)</li>\n<li>sceneDidBecomeActive(_:)</li>\n</ul>\n</li>\n<li>\n<p>Em segundo plano os métodos:</p>\n<ul>\n<li>sceneWillResignActive(_:)</li>\n<li>sceneDidEnterBackground(_:)</li>\n</ul>\n</li>\n<li>\n<p>Ao adicionar uma nova cena:</p>\n<ul>\n<li>scene(_:willConnectTo:options:)</li>\n</ul>\n</li>\n<li>\n<p>Remove a cena do aplicativo:</p>\n<ul>\n<li>sceneDidDisconnect(_:)</li>\n</ul>\n</li>\n</ul>\n<h2>Responder a outros eventos significativos</h2>\n<p>Além dos eventos de ciclo de vida, os aplicativos também devem estar preparados para lidar com outras situações. </p>\n<ul>\n<li>\n<p>Avisos de memória:</p>\n<ul>\n<li>applicationDidReceiveMemoryWarning(_:)</li>\n<li>didReceiveMemoryWarning()</li>\n<li>didReceiveMemoryWarningNotification</li>\n</ul>\n</li>\n<li>\n<p>Dados protegidos ficam disponíveis / indisponíveis:</p>\n<ul>\n<li>applicationProtectedDataDidBecomeAvailable(_:)</li>\n<li>applicationProtectedDataWillBecomeUnavailable(_:)</li>\n</ul>\n</li>\n<li>\n<p>Tarefas do Handoff:</p>\n<ul>\n<li>application(_:didUpdate:)</li>\n</ul>\n</li>\n<li>\n<p>Mudanças de horários:</p>\n<ul>\n<li>applicationSignificantTimeChange(_:)</li>\n</ul>\n</li>\n<li>\n<p>Abrir algum um recurso:</p>\n<ul>\n<li>application(_:open:options:)</li>\n</ul>\n</li>\n</ul>","frontmatter":{"title":"O ciclo de vida do aplicativo iOS","date":"07 maio, 2020","description":""}},"previous":{"fields":{"slug":"/usernotifications-framework/"},"frontmatter":{"title":"UserNotifications Framework"}},"next":{"fields":{"slug":"/addTeardownBlock-do-xctest/"},"frontmatter":{"title":"addTeardownBlock do XCTest"}}},"pageContext":{"id":"132aa054-b180-5213-94f3-b51c346ddc1c","previousPostId":"09ea4f39-7d55-520e-b483-dd1d2629d6dc","nextPostId":"97bb74e1-54bb-5221-bbff-0de6056f5bbd"}},"staticQueryHashes":["1344965497","2841359383"]}